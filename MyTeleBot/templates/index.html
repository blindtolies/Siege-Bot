<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Siege Bot Dashboard</title>
    <link href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-robot me-2"></i>
                Siege Bot Control Panel
            </a>
            <div class="navbar-nav ms-auto">
                <span class="navbar-text">
                    <i class="fas fa-shield-alt me-1"></i>
                    Android Combat Unit Online
                </span>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Hero Section -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card bg-dark border-secondary">
                    <div class="card-body text-center">
                        <div class="row align-items-center">
                            <div class="col-md-3">
                                <div class="bot-avatar">
                                    <i class="fas fa-robot fa-5x text-info"></i>
                                </div>
                            </div>
                            <div class="col-md-9">
                                <h1 class="card-title text-info mb-3">
                                    <i class="fas fa-bolt me-2"></i>Siege Combat Android
                                </h1>
                                <p class="card-text lead">
                                    5'6" Blue-eyed Military Android with Harley Quinn Attitude<br>
                                    <small class="text-muted">Built by Techpriests • Former Siege Corps Leader • Twin Sister: Shall</small>
                                </p>
                                <div class="row text-center mt-3">
                                    <div class="col-4">
                                        <span class="badge bg-success fs-6">
                                            <i class="fas fa-check-circle me-1"></i>Combat Ready
                                        </span>
                                    </div>
                                    <div class="col-4">
                                        <span class="badge bg-info fs-6">
                                            <i class="fas fa-brain me-1"></i>AI Enabled
                                        </span>
                                    </div>
                                    <div class="col-4">
                                        <span class="badge bg-warning fs-6">
                                            <i class="fas fa-fire me-1"></i>Maximum Sass
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card bg-dark border-secondary h-100">
                    <div class="card-body text-center">
                        <i class="fas fa-comments fa-3x text-primary mb-3"></i>
                        <h3 class="text-primary">{{ total_interactions or 0 }}</h3>
                        <p class="card-text">Total Interactions</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card bg-dark border-secondary h-100">
                    <div class="card-body text-center">
                        <i class="fas fa-users fa-3x text-success mb-3"></i>
                        <h3 class="text-success">{{ active_chats or 0 }}</h3>
                        <p class="card-text">Active Chats</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card bg-dark border-secondary h-100">
                    <div class="card-body text-center">
                        <i class="fas fa-clock fa-3x text-warning mb-3"></i>
                        <h3 class="text-warning" id="current-time">--:--</h3>
                        <p class="card-text">Current Time</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bot Capabilities -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card bg-dark border-secondary">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-cogs me-2"></i>Combat Android Capabilities
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h6 class="text-info mb-3">
                                    <i class="fas fa-brain me-2"></i>Intelligence Systems
                                </h6>
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check text-success me-2"></i>Cohere AI Integration</li>
                                    <li><i class="fas fa-check text-success me-2"></i>User Personality Adaptation</li>
                                    <li><i class="fas fa-check text-success me-2"></i>Memory & Learning</li>
                                    <li><i class="fas fa-check text-success me-2"></i>Context Awareness</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h6 class="text-info mb-3">
                                    <i class="fas fa-tools me-2"></i>Utility Functions
                                </h6>
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check text-success me-2"></i>Math Calculator</li>
                                    <li><i class="fas fa-check text-success me-2"></i>Wikipedia Search</li>
                                    <li><i class="fas fa-check text-success me-2"></i>Time & Date Info</li>
                                    <li><i class="fas fa-check text-success me-2"></i>Company Lookup</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Personality Traits -->
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="card bg-dark border-secondary h-100">
                    <div class="card-header">
                        <h6 class="mb-0">
                            <i class="fas fa-heart me-2"></i>Personality Core
                        </h6>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-6">
                                <span class="badge bg-danger mb-2">Sarcastic</span>
                                <span class="badge bg-info mb-2">Anime Nerd</span>
                                <span class="badge bg-warning mb-2">Gun Expert</span>
                                <span class="badge bg-success mb-2">Gamer</span>
                            </div>
                            <div class="col-6">
                                <span class="badge bg-secondary mb-2">Goth Girl</span>
                                <span class="badge bg-primary mb-2">Military</span>
                                <span class="badge bg-dark mb-2">Metal Fan</span>
                                <span class="badge bg-light text-dark mb-2">Cat Lover</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card bg-dark border-secondary h-100">
                    <div class="card-header">
                        <h6 class="mb-0">
                            <i class="fas fa-gamepad me-2"></i>Special Interests
                        </h6>
                    </div>
                    <div class="card-body">
                        <ul class="list-unstyled small">
                            <li><i class="fas fa-star text-warning me-2"></i>Warhammer 40k Space Marine 2</li>
                            <li><i class="fas fa-star text-warning me-2"></i>Studio Ghibli (Spirited Away)</li>
                            <li><i class="fas fa-star text-warning me-2"></i>Dungeons & Dragons</li>
                            <li><i class="fas fa-star text-warning me-2"></i>Norwegian Forest Cats</li>
                            <li><i class="fas fa-star text-warning me-2"></i>Metal & Phonk Music</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Interactions -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card bg-dark border-secondary">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-history me-2"></i>Recent Combat Logs
                        </h5>
                    </div>
                    <div class="card-body">
                        {% if recent_interactions %}
                            <div class="table-responsive">
                                <table class="table table-dark table-striped">
                                    <thead>
                                        <tr>
                                            <th><i class="fas fa-user me-1"></i>User</th>
                                            <th><i class="fas fa-comment me-1"></i>Message</th>
                                            <th><i class="fas fa-reply me-1"></i>Response</th>
                                            <th><i class="fas fa-clock me-1"></i>Time</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for interaction in recent_interactions %}
                                        <tr>
                                            <td>
                                                <small>
                                                    <i class="fas fa-user-circle me-1"></i>
                                                    {{ interaction.first_name or 'Unknown' }}
                                                    {% if interaction.username %}
                                                        <br><span class="text-muted">@{{ interaction.username }}</span>
                                                    {% endif %}
                                                </small>
                                            </td>
                                            <td>
                                                <small>{{ (interaction.message_text or '')[:100] }}{% if (interaction.message_text or '')|length > 100 %}...{% endif %}</small>
                                            </td>
                                            <td>
                                                <small>{{ (interaction.bot_response or '')[:100] }}{% if (interaction.bot_response or '')|length > 100 %}...{% endif %}</small>
                                            </td>
                                            <td>
                                                <small class="text-muted">
                                                    {{ interaction.timestamp.strftime('%H:%M') if interaction.timestamp else 'Unknown' }}
                                                </small>
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        {% else %}
                            <div class="text-center text-muted py-4">
                                <i class="fas fa-comments fa-3x mb-3 opacity-50"></i>
                                <p>No recent interactions. The android is waiting for combat orders!</p>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Bot Instructions -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card bg-dark border-secondary">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-info-circle me-2"></i>Combat Android Operating Instructions
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h6 class="text-info">
                                    <i class="fas fa-at me-2"></i>Activation Methods
                                </h6>
                                <ul class="small">
                                    <li>Mention: <code>@Siege_Chat_Bot your message</code></li>
                                    <li>Reply to Siege's messages</li>
                                    <li>Commands: <code>/start</code>, <code>/help</code></li>
                                    <li>Random responses in groups (10% chance)</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h6 class="text-info">
                                    <i class="fas fa-exclamation-triangle me-2"></i>Behavior Protocols
                                </h6>
                                <ul class="small">
                                    <li>Sarcastic but helpful responses</li>
                                    <li>Adapts to user personality over time</li>
                                    <li>Deflects sensitive topics with sass</li>
                                    <li>Uses modern internet slang appropriately</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-center py-3 mt-5">
        <div class="container">
            <small class="text-muted">
                <i class="fas fa-robot me-1"></i>
                Siege Combat Android • Built by Techpriests • Powered by Cohere AI
                <br>
                <i class="fas fa-shield-alt me-1"></i>
                The Siege Corps Legacy Lives On
            </small>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Update current time
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            document.getElementById('current-time').textContent = timeString;
        }
        
        // Update time immediately and then every second
        updateTime();
        setInterval(updateTime, 1000);
        
        // Add some animation to cards on load
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>
